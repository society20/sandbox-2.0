<h1>Edit computer</h1>
<form id="editForm">
	<fieldset>
		<input type="hidden" name="_id" value="{{_id}}" />
		<div class="clearfix ">
			<label for="name">Computer name</label>
			<div class="input">
				<input type="text" id="name" name="name" value="{{name}}" >
				<span class="help-inline">Required</span>
			</div>
		</div>
		<div class="clearfix ">
			<label for="introduced">Introduced date</label>
			<div class="input">
				<input type="text" id="introduced" name="introduced" value="{{introduced}}" >
				<span class="help-inline">Date ('yyyy-MM-dd')</span>
			</div>
		</div>
		<div class="clearfix ">
			<label for="discontinued">Discontinued date</label>
			<div class="input">
				<input type="text" id="discontinued" name="discontinued" value="{{discontinued}}" >
				<span class="help-inline">Date ('yyyy-MM-dd')</span>
			</div>
		</div>
		<div class="clearfix ">
			<label for="company">Company</label>
			<div class="input">
				<select id="company" name="company_id" >
					<option class="blank" value="">-- Choose a company --</option>
					<option value="4f720a668c1361336ae4261f" >Apple Inc.</option>
					<option value="4f720a668c1361336ae42620" >Thinking Machines</option>
					<option value="4f720a668c1361336ae42621" >RCA</option>
					<option value="4f720a668c1361336ae42622" >Netronics</option>
					<option value="4f720a668c1361336ae42623" >Tandy Corporation</option>
					<option value="4f720a668c1361336ae42624" >Commodore International</option>
					<option value="4f720a668c1361336ae42625" >MOS Technology</option>
					<option value="4f720a668c1361336ae42626" >Micro Instrumentation and Telemetry Systems</option>
					<option value="4f720a668c1361336ae42627" >IMS Associates</option>
					<option value="4f720a668c1361336ae42628" >Digital Equipment Corporation</option>
					<option value="4f720a668c1361336ae42629" >Lincoln Laboratory</option>
					<option value="4f720a668c1361336ae4262a" >Moore School of Electrical Engineering</option>
					<option value="4f720a668c1361336ae4262b" >IBM</option>
					<option value="4f720a668c1361336ae4262c" >Amiga Corporation</option>
					<option value="4f720a668c1361336ae4262d" >Canon</option>
					<option value="4f720a668c1361336ae4262e" >Nokia</option>
					<option value="4f720a668c1361336ae4262f" >Sony</option>
					<option value="4f720a668c1361336ae42630" >OQO</option>
					<option value="4f720a668c1361336ae42631" >NeXT</option>
					<option value="4f720a668c1361336ae42632" >Atari</option>
					<option value="4f720a668c1361336ae42633" >Acorn computer</option>
					<option value="4f720a668c1361336ae42634" >Timex Sinclair</option>
					<option value="4f720a668c1361336ae42635" >Nintendo</option>
					<option value="4f720a668c1361336ae42636" >Sinclair Research Ltd</option>
					<option value="4f720a668c1361336ae42637" >Xerox</option>
					<option value="4f720a668c1361336ae42638" >Hewlett-Packard</option>
					<option value="4f720a668c1361336ae42639" >Zemmix</option>
					<option value="4f720a668c1361336ae4263a" >ACVS</option>
					<option value="4f720a668c1361336ae4263b" >Sanyo</option>
					<option value="4f720a668c1361336ae4263c" >Cray</option>
					<option value="4f720a668c1361336ae4263d" >Evans &amp; Sutherland</option>
					<option value="4f720a668c1361336ae4263e" >E.S.R. Inc.</option>
					<option value="4f720a668c1361336ae4263f" >OMRON</option>
					<option value="4f720a668c1361336ae42640" >BBN Technologies</option>
					<option value="4f720a668c1361336ae42641" >Lenovo Group</option>
					<option value="4f720a668c1361336ae42642" >ASUS</option>
					<option value="4f720a668c1361336ae42643" >Amstrad</option>
					<option value="4f720a668c1361336ae42644" >Sun Microsystems</option>
					<option value="4f720a668c1361336ae42645" >Texas Instruments</option>
					<option value="4f720a668c1361336ae42646" >HTC Corporation</option>
					<option value="4f720a668c1361336ae42647" >Research In Motion</option>
					<option value="4f720a668c1361336ae42648" >Samsung Electronics</option>
				</select>
				<span class="help-inline">&nbsp;</span>
			</div>
		</div>
	</fieldset>
	<div class="actions">
		<input type="submit" value="Save this computer" class="btn primary" id="saveEdit">
		or <a class="btn" id="cancelEdit">Cancel</a>
	</div>
</form>
<form action="/computers/json/delete/{{_id}}" method="POST" class="topRight">
	<input type="submit" value="Delete this computer" class="btn danger">
</form>
<script>
    //adds the ability to jsonify a JSObject
    $.fn.toJson = function() {
        var o = {};
        var a = this.serializeArray();
        $.each(a, function() {
            if(o[this.name]) {
                if(!o[this.name].push) {
                    o[this.name] = [o[this.name]];
                }
                o[this.name].push(this.value || '');
            } else {
                o[this.name] = this.value || '';
            }
        });
        return o;
    };
    $("#saveEdit").click(function(event) {
        var computerAsJson = $("#editForm").toJson();
        update(computerAsJson);
        show("#main");
        event.preventDefault();
    });
    $("#cancelEdit").click(function(event) {
        show("#main");
        event.preventDefault();
    });

</script>